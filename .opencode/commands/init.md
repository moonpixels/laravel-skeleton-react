---
description: Initialize or update AGENTS.md configuration file for this project
agent: build
---

You are initializing OpenCode for this project by creating or improving the AGENTS.md configuration file.

## Your Task

Load the `agentic-config` skill and follow its comprehensive guidance to create the best possible AGENTS.md file for this project.

## Process

1. **Load the skill:**
   Load the `agentic-config` skill immediately to access best practices.

2. **Perform thorough analysis:**
   Follow the skill's research process:

- Analyze project structure comprehensively
- Identify tech stack and versions
- Extract all relevant commands from package.json, astro.config.mjs, Makefile, etc.
- Map key directories with their purposes
- Identify architecture decisions and patterns
- Determine quality standards and verification requirements

3. **Handle existing AGENTS.md:**
   If AGENTS.md already exists:

- Read it completely first
- Preserve good, universal, accurate content
- Update outdated information
- Remove non-universal instructions
- Reduce length if over 100 lines (use progressive disclosure)

If AGENTS.md doesn't exist:

- Create from scratch following the skill's structure

4. **Create the file:**

- Follow the WHAT-WHY-HOW framework
- Aim for 60-100 lines (optimal)
- Only include universal, actionable instructions
- Use exact command syntax
- No code snippets, no style rules
- Reference external docs for detailed guides

5. **Validate quality:**
   Ensure the file meets all criteria from the skill's quality checklist.

6. **Explain your work:**
   After creating/updating, explain to the user:

- What sections were included
- Key decisions made
- What was intentionally excluded (and why)
- Recommend committing AGENTS.md to Git

## Important Principles

From research-backed best practices:

- **Keep it under 100 lines** - LLMs can only reliably follow ~150-200 instructions
- **Universal instructions only** - Only include what applies to EVERY task
- **Exact commands** - No vague instructions like "test the code"
- **No code snippets** - They go stale; reference files or skills instead
- **Progressive disclosure** - External docs for detailed guides
- **Actionable checklist** - Clear verification requirements

## Output

Create or update the AGENTS.md file in the project root, then provide a summary of what was done.
